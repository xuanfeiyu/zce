# Part 2 · 前端工程化实践

## 模块一：开发脚手架及封装自动化构建工作流

## 任务一：工程化概述

### 1.工程化的定义和主要解决的问题

- 主要解决的问题
  - 传统语言或语法的弊端
  - 无法使用模块化/组件化
  - 重复的机械式工作
  - 代码风格统一、质量保证
  - 依赖后端服务接口支持
  - 整体依赖后端项目

### 2.一个项目过程中工程化的体现

- 一切以提高效率、降低成本、质量保证为目的的手段都属于**工程化**
- 一切重复的工作都应该被自动化
  - 创建项目
    - 创建项目结构
    - 创建特定类型文件
  - 编码
    - 格式化代码
    - 校验代码风格
    - 编译/构建/打包
  - 预览/测试
    - Web Server / Mock
    - Live Reloading / HMR
    - Source Map
  - 提交
    - Git Hooks
    - Lint-staged
    - 持续集成
  - 部署
    - CI / CD
    - 自动发布

### 3.工程化不等于工具

- 一些成熟的工程化集成
  - create-react-app
  - vue-cli
  - angular-cli
  - gatsby-cli

### 4.工程化与Node.js

- 内容概要
  - 脚手架工具开发
  - 自动化构建系统
  - 模块化打包
  - 项目代码规范化
  - 自动化部署

## 任务二：脚手架工具

### 1.脚手架工具概要

- 脚手架的本质作用
  - 创建项目基础结构、提供项目规范和约定
    - 相同的组织结构
    - 相同的开发范式
    - 相同的模块依赖
    - 相同的工具配置
    - 相同的基础代码

- 内容概要
  - 脚手架的作用
  - 常用的脚手架工具
  - 通用脚手架工具剖析
  - 开发一款脚手架

### 2.常用的脚手架工具

- React 项目 -> create-react-app
- Vue.js 项目 -> vue-cli
- Angular 项目 -> angular-cli
- Yeoman
- Plop

### 3.Yeoman 简介

- 用于创造现代化Web应用的脚手架工具

### 4.Yeoman 基础使用

- 在全局范围安装 yo
  - $ npm install yo --global # or yarn global add yo
- 安装对应的 generator
  - $ npm install generator-node --global # or yarn global add generator-node
- 通过 yo 运行 generator
  - $ cd path/to/project-dir
  - $ mkdir my-module
  - $ yo node

### 5.Sub Generator

- 详见代码

### 6.Yeoman 使用步骤总结

- 明确你的需求
- 找到合适的 Generator
- 全局范围安装找到的 Generator
- 通过 Yo 运行对应的 Generator
- 通过命令行交互填写选项
- 生成你所需要的项目结构

### 7.自定义 Generator

- 略

### 8.创建 Generator 模块

- Generator 本质上就是一个 NPM 模块
- 详见代码

### 9.根据模板创建文件

- 相对于手动创建每一个文件，模板的方式大大提高了效率

### 10.接收用户输入

- 详见代码

### 11.Vue Generator 案例

- 详见代码

### 12.发布 Generator

- 略

### 13.Plop 简介

- 一个小而美的脚手架工具

### 14.Plop 的基本使用

- 将plop模块作为项目开发依赖安装
- 在项目根目录下创建一个plopfile.js文件
- 在plopfile.js文件中定义脚手架任务
- 编写用于生成特定类型文件的模板
- 通过Plop提供的CLI运行脚手架任务

### 15.脚手架的工作原理

- 略
